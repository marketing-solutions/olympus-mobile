<!DOCTYPE html>
<html ng-cloak ng-app="Olymp" class="ng-scope with-statusbar-overlay">
<head>
    <!--
        Customize this policy to fit your own app's needs. For more guidance, see:
            https://github.com/apache/cordova-plugin-whitelist/blob/master/README.md#content-security-policy
        Some notes:
            * gap: is required only on iOS (when using UIWebView) and is needed for JS->native communication
            * https://ssl.gstatic.com is required only on Android and is needed for TalkBack to function properly
            * Disables use of inline scripts in order to mitigate risk of XSS vulnerabilities. To change this:
                * Enable inline JS: add 'unsafe-inline' to default-src
        -->
<!--     <meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' 'unsafe-eval' data: gap: https://ssl.gstatic.com 'unsafe-eval'; style-src 'self' 'unsafe-inline'; media-src *"> -->
<!-- <meta http-equiv="Content-Security-Policy" content="default-src *; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; img-src 'self' data:"> -->

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no">
    <meta name="msapplication-tap-highlight" content="no">

    <title>Olympus</title>

      <link rel="stylesheet" href="./lib/framework7/css/framework7.material.css">
    <link rel="stylesheet" href="./lib/framework7/css/framework7.material.colors.css">
    <link rel="stylesheet" href="./lib/framework7/css/framework7.keypad.min.css">
    <link rel="stylesheet" href="./css/styles.css">

    
</head>

<body class="theme-white layout-dark" ng-controller="mainController as mainCtrl">
    <div class="statusbar-overlay"></div>

    <!-- Left panel-->
    <div class="panel-overlay"></div>
    <div class="panel panel-left panel-reveal">
      <div class="page-content">
        <div class="content-block left-block">
          <div class="leftPanelName">Привет, {{mainCtrl.user.first_name}}!</div>
          <div class="leftPanelPoints">Бонусный баланс: {{mainCtrl.user.balance}} баллов</div>
          <div class="leftPanelExit" ng-click="mainCtrl.Logout()">Выйти</div>
          <div class="leftPanelColumn">
            <div ng-click="mainCtrl.GotoProfile()" class="leftPanelButton profilePanel">Профиль</div>
            <div ng-click="mainCtrl.GotoSale()" class="leftPanelButton salePanel">Продажи</div>
            <div ng-click="mainCtrl.GotoTransaction()" class="leftPanelButton transPanel">Перевод на карту</div>
            <div ng-click="mainCtrl.GotoCatalog()" class="leftPanelButton catPanel">Каталог</div>
            <div ng-click="mainCtrl.GotoSertificate()" class="leftPanelButton sertPanel">Сертификаты</div>
            <div ng-click="mainCtrl.GotoContact()" class="leftPanelButton contactPanel">Помощь</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Views -->
    <div class="views">
        <!-- main view -->
        <div class="view view-main">
          <div class="pages navbar-fixed toolbar-fixed">
            <div data-page="index" class="page ng-scope">
              <div class="navbar Olympus-navbar no-border">
                <div class="navbar-inner">
                  <div class="center Olympus-header sliding">&nbsp;</div>
                  <div class="left sliding"><a href="#" class="open-panel link icon-only">
                    <i class="icon color-white icon-bars"></i></a>
                  </div>
                </div>
              </div>
              <!-- Scrollable page content -->
              <div class="page-content">
                <div class="content-block">
                   <div class="content-block-title">Информация</div>
                    <div class="card">
                      <div class="card-content">
                        <div class="card-content-inner">
                        Имя - {{mainCtrl.user.first_name}}<br>
                        Фамилия - {{mainCtrl.user.last_name}}<br>
                        Почта - {{mainCtrl.user.email}}<br>
                        Телефон - {{mainCtrl.user.phone_mobile}}<br>
                        Баланс - {{mainCtrl.user.balance}}<br>
                        ID - {{mainCtrl.user.profile_id}}<br>
                        Дилер - {{mainCtrl.user.dealer.name}}<br></div>
                      </div>
                    </div>
                    <div class="card" ng-hide="mainCtrl.user.blocking_reason==null">
                      <div class="card-content">
                        <div class="card-content-inner">
                        Пользователь временно заблокирован.<br>Причина:<br>
                          {{mainCtrl.user.blocking_reason}}
                      </div>
                    </div>
                </div>
              </div>
                <a href="#setup-profile" class="item-link button button-normal color-white bg-black">Настроить профиль</a>
            </div>
          </div>

          <div data-page="setup-profile" class="page ng-scope cached">
            <div class="navbar Olympus-navbar no-border">
              <div class="navbar-inner">
                <div class="center Olympus-header sliding">&nbsp;</div>
                <div class="left sliding"><a href="#" class="open-panel link icon-only">
                  <i class="icon color-white icon-bars"></i></a>
                </div>
              </div>
            </div>
            <div class="page-content">
              <div class="content-block-title">Персональные данные</div>
              <div class="list-block white-border-block">
                <form id="update-profile-form">
                  <ul>
                    <li class="item-content">
                      <div class="item-inner">
                        <div class="item-title label">Фамилия</div>
                        <div class="item-input">
                          <input type="text" ng-model="mainCtrl.user.last_name" name="last_name" placeholder="...">
                        </div>
                      </div>
                    </li>
                    <li class="item-content">
                      <div class="item-inner">
                        <div class="item-title label">Имя</div>
                        <div class="item-input">
                          <input type="text" ng-model="mainCtrl.user.first_name" name="first_name" placeholder="...">
                        </div>
                      </div>
                    </li>
                    <li class="item-content">
                      <div class="item-inner">
                        <div class="item-title label">Отчество</div>
                        <div class="item-input">
                          <input type="text" ng-model="mainCtrl.user.middle_name" name="middle_name" placeholder="...">
                        </div>
                      </div>
                    </li>
                    <li class="item-content">
                      <div class="item-inner">
                        <div class="item-title label">Email</div>
                        <div class="item-input">
                          <input type="email" ng-model="mainCtrl.user.email" name="email" placeholder="...">
                        </div>
                      </div>
                    </li>
                    <li>
                      <a href="#" ng-click="mainCtrl.UpdateProfile()" class="item-link button button-big color-white bg-black">Обновить</a>
                    </li>
                  </ul>

                </form>
              </div>
            </div>
          </div>
          <div data-page="transaction" class="page ng-scope cached">
            <div class="navbar Olympus-navbar no-border">
              <div class="navbar-inner">
                <div class="center Olympus-header sliding">&nbsp;</div>
                <div class="left sliding"><a href="#" class="open-panel link icon-only">
                  <i class="icon color-white icon-bars"></i></a>
                </div>
              </div>
            </div>
            <div class="page-content">
              <div class="content-block-title">Реквизиты</div>
              <div class="list-block white-border-block">
                <form id="update-profile-form">
                  <ul>
                    <li class="item-content">
                      <div class="item-inner">
                        <div class="item-title label">Номер карты</div>
                        <div class="item-input">
                          <input type="text" name="number" class="mask_card" placeholder="____ ____ ____ ____">
                        </div>
                      </div>
                    </li>
                    <li class="item-content">
                      <div class="item-inner">
                        <div class="item-title label">Сумма, руб</div>
                        <div class="item-input">
                          <input type="text" class="mask_money" name="sum" placeholder="...">
                        </div>
                      </div>
                    </li>
                    <li>
                      <a href="#" ng-click="" class="item-link button button-big color-white bg-black">&#8381; &nbsp;&nbsp;&nbsp;оплатить</a>
                    </li>
                  </ul>
                </form>
              </div>
            </div>
          </div>

          <div data-page="old_sales" class="page ng-scope cached">
            <div class="navbar Olympus-navbar no-border">
              <div class="navbar-inner">
                <div class="center Olympus-header sliding">&nbsp;</div>
                <div class="left sliding"><a href="#" class="open-panel link icon-only">
                  <i class="icon color-white icon-bars"></i></a>
                </div>
              </div>
            </div>
            <div class="page-content">
            <div class="content-block"></div>
              <a href="#sale" class="item-link button button-normal color-white bg-black">Новая продажа</a>
              <div class="content-block-title">История продаж</div>
              <div class="list-block">
                <ul>
                  <li ng-repeat="element in mainCtrl.sales_array track by $index">
                    <a href="#view_sale" ng-click="mainCtrl.selected_sale = $index" class="item-content item-link">
                      <div class="item-inner">
                        <div class="item-title">{{element.created_at}}</div>
                        <div class="item-after">ID: {{element.sale_id}}</div>
                      </div>
                    </a>
                  </li>
                </ul>
              </div>
            </div>
          </div>

          <div data-page="view_sale" class="page ng-scope cached">
            <div class="navbar Olympus-navbar no-border">
              <div class="navbar-inner">
                <div class="center Olympus-header sliding">&nbsp;</div>
                <div class="left sliding"><a href="#" class="open-panel link icon-only">
                  <i class="icon color-white icon-bars"></i></a>
                </div>
              </div>
            </div>
            <div class="page-content">
              <a href="#sale" class="back-button back item-link button button-normal color-white bg-black">Назад</a>
              <div class="content-block-title">Просмотр продажи</div>
              <div class="list-block white-border-block">
                <ul>
                  <li class="item-content">
                    <div class="item-inner">
                      <div class="item-title label">ID</div>
                      <div class="item-after">{{mainCtrl.sales_array[mainCtrl.selected_sale].sale_id}}</div>
                    </div>
                  </li>
                  <li class="item-content">
                    <div class="item-inner">
                      <div class="item-title label">Статус</div>
                      <div class="item-after">{{mainCtrl.sales_array[mainCtrl.selected_sale].status}}</div>
                    </div>
                  </li>
                  <li class="item-content">
                    <div class="item-inner">
                      <div class="item-title label">Бонусы</div>
                      <div class="item-after">{{mainCtrl.sales_array[mainCtrl.selected_sale].bonuses}}</div>
                    </div>
                  </li>
                  <li class="item-content">
                    <div class="item-inner">
                      <div class="item-title label">Дата продажи</div>
                      <div class="item-after">{{mainCtrl.sales_array[mainCtrl.selected_sale].sold_on}}</div>
                    </div>
                  </li>
                  <li class="item-content">
                    <div class="item-inner">
                      <div class="item-title label">Дата создания</div>
                      <div class="item-after">{{mainCtrl.sales_array[mainCtrl.selected_sale].created_at}}</div>
                    </div>
                  </li>
                </ul>
              </div>

            </div>
          </div>

          <div data-page="sale" class="page ng-scope cached">
            <div class="navbar Olympus-navbar no-border">
              <div class="navbar-inner">
                <div class="center Olympus-header sliding">&nbsp;</div>
                <div class="left sliding"><a href="#" class="open-panel link icon-only">
                  <i class="icon color-white icon-bars"></i></a>
                </div>
              </div>
            </div>
            <div class="page-content">
              <div class="content-block-title">Новая продажа</div>
              <div class="list-block white-border-block">
                <ul>
                  <li class="item-content">
                    <div class="item-inner">
                      <div class="item-title label">Дата</div>
                      <div class="item-input">
                        <input id="calendar-sell" type="text" name="phone" readonly placeholder="сегодня">
                      </div>
                    </div>
                  </li>
                </ul>
                <ul>
                  <li ng-repeat="element in mainCtrl.sell track by $index">
                    <div class="item-content">
                      <div class="item-media" ng-click="mainCtrl.DeleteProduct($index)"><img src="img/Delete.png" width="20"></div>
                      <div class="item-inner">
                        <div class="item-title-row">
                          <div class="item-title product-title">{{element.name}}</div>
                        </div>
                        <div class="item-text">{{element.serial_number}}</div>
                      </div>
                    </div>
                  </li>
                </ul>
              </div>
              <div class="list-block white-border-block">
                <form id="product-form">
                  <ul>
                    <li class="item-content">
                      <div class="item-inner">
                        <div class="item-title label">Товар</div>
                        <div class="item-input">
                          <input type="text" name="name" ng-click="mainCtrl.DropProducts.open()" readonly id="products-dropdown" placeholder="">
                        </div>
                      </div>
                    </li>
                    <li class="item-content">
                      <div class="item-inner">
                        <div class="item-title label">Серийный номер</div>
                        <div class="item-input">
                          <input type="text" id="prod-num" name="serial_number" placeholder="">
                        </div>
                      </div>
                    </li>
                  </ul>
                </form>
                <a href="#" ng-click="mainCtrl.AddProduct()" class="item-link button button-normal color-white bg-black">+ добавить позицию</a>
              </div>
              <div class="list-block">
                <ul>
                  <li>
                    <div class="cropImage"><img id="billImage" class="billImage" src="">&nbsp;</div>
                  </li>
                  <li>
                    <a href="#" ng-click="mainCtrl.TakePhoto()" class="item-link button button-normal color-white bg-black">Фото чека</a>
                  </li>
                </ul>
              </div>
            </div>
          </div>

          <div data-page="contact" class="page ng-scope cached">
            <div class="navbar Olympus-navbar no-border">
              <div class="navbar-inner">
                <div class="center Olympus-header sliding">&nbsp;</div>
                <div class="left sliding"><a href="#" class="open-panel link icon-only">
                  <i class="icon color-white icon-bars"></i></a>
                </div>
              </div>
            </div>
            <div class="page-content">
              <div class="content-block-title">Задайте Ваш вопрос с помощью формы</div>
              <div class="list-block white-border-block">
                <form id="help-form">
                  <ul>
                    <li class="item-content">
                      <div class="item-inner">
                        <div class="item-title label">Имя</div>
                        <div class="item-input">
                          <input type="text" name="name">
                        </div>
                      </div>
                    </li>
                    <li class="item-content">
                      <div class="item-inner">
                        <div class="item-title label">E-mail</div>
                        <div class="item-input">
                          <input type="email" name="email">
                        </div>
                      </div>
                    </li>
                    <li class="item-content">
                      <div class="item-inner">
                        <div class="item-title label">Телефон</div>
                        <div class="item-input">
                          <input type="text" name="phone">
                        </div>
                      </div>
                    </li>
                    <li class="item-content">
                      <div class="item-inner">
                        <div class="item-title label">Сообщение</div>
                        <div class="item-input">
                          <textarea class="resizable" name="text"></textarea>
                        </div>
                      </div>
                    </li>
                    <li>
                      <a href="#" ng-click="" class="item-link button button-big color-white bg-black">Задать вопрос</a>
                    </li>
                  </ul>
                </form>
              </div>
            </div>
          </div>

        </div>
      </div>

<!-- ===========Login Screen============ -->
    <div class="login-screen theme-white popup log tablet-fullscreen">
      <div class="view">
        <div class="page">
          <div class="page-content login-screen-content">
          <img src="img/olympus.png" class="logimg">
            <div class="loginTitle">Авторизация</div>
            <!-- Login form -->
            <form id="login-form">
              <div class="list-block">
                <ul>
                  <li class="item-content">
                    <div class="item-inner">
                      <div class="item-title label">Телефон</div>
                      <div class="item-input">
                        <input type="text" ng-model='PhoneInput' class="mask_phone" name="phone">
                      </div>
                    </div>
                  </li>
                  <li class="item-content">
                    <div class="item-inner">
                      <div class="item-title label">Пароль</div>
                      <div class="item-input">
                        <input type="password" name="password" placeholder="******">
                      </div>
                    </div>
                  </li>
                </ul>
              </div>
              <div class="list-block">
                <ul>
                  <li>
                    <a href="#" ng-click="mainCtrl.CheatLogin()" class="item-link button button-big color-white bg-black">Войти</a>
                  </li>
                </ul>
                <div class="list-block-label">
                    <p><a href="#" data-popup=".pre-reg" class="open-popup regText">Регистрация</a></p>
                </div>
                 <div class="list-block-label">
                    <p><a href="#" class="forgotText" ng-click="mainCtrl.ForgotPass()">Забыли пароль?</a></p>
                </div> 
              </div>
            </form>

          </div>
        </div>
      </div>
  </div>

  <div class="popup pre-reg tablet-fullscreen">
      
      <div class="view">
        <div class="page">

          <div class="page-content login-screen-content">
          <img src="img/olympus.png" class="logimg">
            <div class="loginTitle">Введите свой телефон</div>
            <!-- Login form -->
            <form id="pre-reg-form">
              <div class="list-block">
                <ul>
                  <li class="item-content">
                    <div class="item-inner">
                      <div class="item-title label">Телефон</div>
                      <div class="item-input">
                        <input type="text" ng-model='PhoneInput' class="mask_phone" name="phone">
                      </div>
                    </div>
                  </li>
                </ul>
              </div>
              <div class="list-block">
                <ul>
                  <li>
                    <a href="#" ng-click="mainCtrl.SendSMS()" class="item-link button button-big color-white bg-black">Отправить СМС</a>
                  </li>
                </ul>
                <div class="list-block-label">
                    <p><a href="#" data-popup=".pre-reg" class="close-popup regText">Назад</a></p>
                </div>
              </div>
            </form>


          </div>
        </div>
      </div>

  </div>

  <div class="popup reg tablet-fullscreen">
      <div class="view">
        <div class="page">
          <div class="page-content login-screen-content">
          <img src="img/olympus.png" class="logimg">
            <div class="loginTitle">Регистрация</div>
            <!-- Login form -->
            <form id="reg-form">
              <div class="list-block">
                <ul>
                <li class="item-content">
                    <div class="item-inner">
                      <div class="item-title label">Дилер</div>
                      <div class="item-input">
                        <input type="text" id="dropdown_dealer" ng-click="mainCtrl.DropDealer.open()" readonly placeholder="...">
                      </div>
                    </div>
                  </li>
                  <li class="item-content">
                    <div class="item-inner">
                      <div class="item-title label">Город</div>
                      <div class="item-input">
                        <input type="text" id="dropdown_city" ng-value="mainCtrl.DropSelected.city" ng-click="mainCtrl.DropCity.open()" readonly placeholder="...">
                      </div>
                    </div>
                  </li>
                  <li class="item-content">
                    <div class="item-inner">
                      <div class="item-title label">Адрес</div>
                      <div class="item-input">
                        <input type="text" id="dropdown_address" ng-value="mainCtrl.DropSelected.address" ng-click="mainCtrl.DropAddress.open()" readonly placeholder="...">
                      </div>
                    </div>
                  </li>
                  <li class="item-content">
                    <div class="item-inner">
                      <div class="item-title label">Почта</div>
                      <div class="item-input">
                        <input type="text" name="email" placeholder="example@mail.com">
                      </div>
                    </div>
                  </li>
                  <li class="item-content">
                    <div class="item-inner">
                      <div class="item-title label">Пароль</div>
                      <div class="item-input">
                        <input type="password" name="password" placeholder="***">
                      </div>
                    </div>
                  </li>
                  <li class="item-content">
                    <div class="item-inner">
                      <div class="item-title label">Повторить пароль</div>
                      <div class="item-input">
                        <input type="password" name="passwordCompare" placeholder="***">
                      </div>
                    </div>
                  </li>
                  <li class="item-content">
                    <div class="item-inner">
                      <div class="item-title label">Фамилия</div>
                      <div class="item-input">
                        <input type="text" name="last_name" placeholder="...">
                      </div>
                    </div>
                  </li>
                  <li class="item-content">
                    <div class="item-inner">
                      <div class="item-title label">Имя</div>
                      <div class="item-input">
                        <input type="text" name="first_name" placeholder="...">
                      </div>
                    </div>
                  </li>
                  <li class="item-content">
                    <div class="item-inner">
                      <div class="item-title label">Отчество</div>
                      <div class="item-input">
                        <input type="text" name="middle_name" placeholder="...">
                      </div>
                    </div>
                  </li>
                  <li>
                  <div class="item-content">
                    <div class="item-inner">
                      <a href="http://olympus.msforyou.ru/media/uploads/rules.pdf" download class="item-title label">Даю согласие с правилами программы</a>
                      <div class="item-input">
                        <label class="label-switch">
                          <input name="agreeWithTerms" type="checkbox" checked>
                          <div class="checkbox"></div>
                        </label>
                      </div>
                    </div>
                  </div>
                </li>
                <li>
                  <div class="item-content">
                    <div class="item-inner">
                      <div class="item-title label">Даю согласие на обработку данных</div>
                      <div class="item-input">
                        <label class="label-switch">
                          <input name="allowPersonalDataProcessing" type="checkbox" checked>
                          <div class="checkbox"></div>
                        </label>
                      </div>
                    </div>
                  </div>
                </li>
                </ul>
              </div>
              <div class="list-block">
                <ul>
                  <li>
                    <a href="#" ng-click="mainCtrl.Register()" class="item-link button button-big color-white bg-black">Регистрация</a>
                  </li>
                </ul>
                <div class="list-block-label">
                    <p><a href="#" data-popup=".reg" class="close-popup regText">Отмена</a></p>
                </div>
              </div>
            </form>

          </div>
        </div>
    </div>
  </div>

  <script src="cordova.js"></script> 
  <script src="./lib/framework7/js/framework7.js"></script>
  <script src="./lib/framework7/js/framework7.keypad.min.js"></script>
  <script src="./js/jquery-3.2.1.min.js"></script>
  <script src="./js/jquery.mask.min.js"></script>
  <script src="./js/angular.min.js"></script>
  <script src="./js/my-app.js"></script>
  <script src="./js/InitService.js"></script>
  <script src="./js/mainController.js"></script>
</body>

</html>